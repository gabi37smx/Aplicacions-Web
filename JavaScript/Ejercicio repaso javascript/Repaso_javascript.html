<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="author" content="Gabriel Vidal">
    <title>Formulario de Validación</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        #mensajes {
            margin-top: 15px;
            font-weight: bold;
        }
        .valido {
            color: green;
        }
        .error {
            color: red;
        }
    </style>
</head>
<body>
  <header>
    <h1><span style="color:green"></span><b> Repaso de JavaScript</b></h1>
    <p><em><h3><span style="color:brown"> Validación de datos formulario </span></h3></em></p>
  </header>
    <form id="formRegistro">
        <label>
            Nombre:
            <input type="text" id="nombre">
        </label>
        <br>

        <label>
            Edad:
            <input type="number" id="edad">
        </label>
        <br>

        <label>
            Email:
            <input type="text" id="email">
        </label>
        <br>

        <label>
            Contraseña:
            <input type="password" id="password">
        </label>
        <br>

        <label>
            Repetir contraseña:
            <input type="password" id="repetirPassword">
        </label>
        <br>

        <button type="button" onclick="validarFormulario()">Validar</button>
    </form>

    <div id="mensajes"></div>   

    <script>
        function validarNombre(nombre) {
            return nombre.trim().length >= 3;
        }

        function validarEdad(edad) {
            return !isNaN(edad) && Number(edad) >= 18;
        }

        function validarEmail(email) {
            const arroba = email.indexOf("@");
            const punto = email.lastIndexOf(".");
            return arroba > 0 && punto > arroba;
        }

        function validarPassword(password) {
            return password.length >= 6;
        }

        function validarPasswordRepetida(password, repetirPassword) {
            return password === repetirPassword;
        }

        function validarFormulario() {
            const nombre = document.getElementById("nombre").value;
            const edad = document.getElementById("edad").value;
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
            const repetirPassword = document.getElementById("repetirPassword").value;

            let errores = [];

            if (!validarNombre(nombre)) {
                errores.push("El nombre debe tener al menos 3 caracteres.");
            }

            if (!validarEdad(edad)) {
                errores.push("La edad debe ser un número mayor o igual a 18.");
            }

            if (!validarEmail(email)) {
                errores.push("El email debe contener '@' y '.' en orden correcto.");
            }

            if (!validarPassword(password)) {
                errores.push("La contraseña debe tener al menos 6 caracteres.");
            }

            if (!validarPasswordRepetida(password, repetirPassword)) {
                errores.push("Las contraseñas no coinciden.");
            }

            const mensajesDiv = document.getElementById("mensajes");

            if (errores.length === 0) {
                mensajesDiv.innerHTML = "<p class='valido'>Formulario válido. Registro correcto ✅</p>";
            } else {
                let listaErrores = "<p class='error'>Formulario NO válido ❌</p><ul>";
                errores.forEach(error => {
                    listaErrores += "<li>" + error + "</li>";
                });
                listaErrores += "</ul>";
                mensajesDiv.innerHTML = listaErrores;
            }
        }
    </script>
    <a href=".././index.html" class="volver-btn">Volver al índice General</a>
</body>
</html>






